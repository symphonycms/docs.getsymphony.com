<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <title>Getting Git for Symphony Development – SymphonyCMS</title>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <link media="screen" href="/symphony-2/css/codemirror.css" type="text/css" rel="stylesheet" />
        <link media="screen" href="/symphony-2/css/factory.css" type="text/css" rel="stylesheet" />
        <link media="screen" href="/symphony-2/css/factory.docs.css" type="text/css" rel="stylesheet" />
        <script type="text/javascript" src="/symphony-2/js/jquery.js"></script>
        <script type="text/javascript" src="/symphony-2/js/modernizr.js"></script>
        <script type="text/javascript" src="/symphony-2/js/codemirror.js"></script>
        <script type="text/javascript" src="/symphony-2/js/factory.js"></script>
        <script type="text/javascript" src="/symphony-2/js/factory.grid.js"></script>
    </head>
    <body>
        <aside id="network">

  <!-- Main navigation -->
  <header class="network-toolbar collapsed">
    <div class="field">
      <h1 class="network-logo column one">
        <a href="/docs/about.xml">Symphony CMS</a>
      </h1>
      <nav class="network-nav column">
        <a href="/docs/examples/community.xml">Community</a>
        <a href="/docs/examples/documentation.xml"  class="active">Documentation</a>
        <a href="/docs/examples/extensions.xml">Extensions</a>
        <a href="/docs/examples/ninjas.xml">Ninjas</a>
        <a href="/docs/examples/xpathr.xml">xPathr</a>
      </nav>
      <div id="user" class="network-user">
        <a href="http://getsymphony.com/get-involved/member/Allen/">
          <img src="img/user.png" width="35" height="35" alt="Allen Chang" />
        </a>
        <p>
          <a href="http://getsymphony.com/get-involved/currently-online/" class="network-visitors">15</a>
          <xsl:text> + </xsl:text>
          <a class="network-username">Allen Chang</a>
        </p>
      </div>
    </div>
  </header>

  <!-- User profile -->
  <div class="field network-profile">
    <form>

      <!-- Gravatar -->
      <div class="network-gravatar column one">
        <img src="img/user.png" width="174" height="174" alt="Allen Chang" />
        <p>Change your avatar at <a href="http://gravatar.com">Gravatar</a>.</p>
      </div>

      <!-- Information -->
      <fieldset class="column one large-two">
        <label for="profile-username" class="restricted">Username</label>
        <input id="profile-username" type="text" name="fields[username]" value="Allen" readonly="readonly" />
        <label for="profile-name">Name</label>
        <input id="profile-name" type="text" name="fields[name]" value="Allen Chang" />
        <label for="profile-email-address">Email (Private)</label>
        <input id="profile-email-address" type="text" name="fields[email-address]" value="team@getsymphony.com" />
        <label for="profile-city">Location</label>
        <input id="profile-city" type="text" name="fields[location]" value="Symphony Land" />
      </fieldset>
      <fieldset class="column two small-one">
        <label for="profile-website">Website</label>
        <input id="profile-website" type="text" name="fields[website]" value="http://getsymphony.com" />
        <label for="profile-bio">Bio</label>
        <textarea rows="7" name="fields[bio]">Cras mattis consectetur purus sit amet fermentum.</textarea>
        <div class="profile-controls">
          <button id="submit-profile" class="button-save" type="submit" name="action[members-edit]">Save Profile</button>
          <a class="button-cancel" href="../../member/Nils/">Cancel</a>
        </div>
      </fieldset>
    </form>
  </div>

  <!-- Site switcher -->
  <div class="field network-drawer">

    <!-- Symphony ressources -->
    <div class="column three medium-two">
      <h2>About Symphony</h2>
      <p>Symphony is an open source content management system for your websites and webapps. It makes complex things simple.</p>
      <div class="get-symphony">
        <a href="https://github.com/symphonycms/symphony-2">Get Symphony 2.3.0</a>
        <a href="https://github.com/symphonycms/symphony-2" class="icon-fork">Fork<span class="medium-hide"> on Github</span></a>
        <a href="https://github.com/symphonycms/symphony-2/archive/master.zip" class="icon-download"><span class="medium-hide">Download </span>ZIP</a>
      </div>
    </div>

    <!-- Symphony in other languages -->
    <div class="column one small-two">
      <h2>Regions</h2>
      <ul>
        <li>
          <a href="#">Germany</a>
        </li>
        <li>
          <a href="#">Italy</a>
        </li>
        <li>
          <a href="#">Romania</a>
        </li>
        <li>
          <a href="#">United Kingdom</a>
        </li>
      </ul>
    </div>

    <!-- Symphony ressources -->
    <div class="column one">
      <h2>Services</h2>
      <ul>
        <li>
          <a href="#">Github</a>
        </li>
        <li>
          <a href="#">Twitter</a>
        </li>
        <li>
          <a href="#">Vimeo</a>
        </li>
        <li>
          <a href="#">Flickr</a>
        </li>
      </ul>
    </div>
  </div>
</aside>

        <div id="site">
            <header class="site-header centered">
    <h1>
        <span>Symphony</span> Documentation
    </h1>
    <nav>
        <a href="about.xml">About</a>
        <a href="layouts.xml">Layouts</a>
        <a href="snippets.xml">Snippets</a>
        <a href="styles.xml">Styles</a>
        <a href="scripts.xml">Scripts</a>
        <a href="examples.xml">Examples</a>
    </nav>
</header>

            <div class="field">
  <div class="column sidebar infobox">
    
      <h3>Articles</h3>
      <ul class="sidebar-links">
        
          <li>
            <a href="/symphony-2/docs/articles/field-extension.html"
              >Field Extension</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/articles/getting-git-for-symphony-development.html"
               class="active">Getting Git for Symphony Development</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/articles/combining-symphony-with-nginx.html"
              >Combining Symphony with Nginx</a>
            
          </li>
        
      </ul>
    
      <h3>Book</h3>
      <ul class="sidebar-links">
        
          <li>
            <a href="/symphony-2/docs/book/symphony-book.html"
              >Symphony Start to Finish</a>
            
              <ul>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-01.html"
                      >Why You Need Symphony</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-02.html"
                      >Symphony in Action</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-03.html"
                      >Getting Started</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-04.html"
                      >Symphony Anatomy</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-05.html"
                      >Content</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-06.html"
                      >Front-end</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-07.html"
                      >Data Flow</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-08.html"
                      >Templating</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-09.html"
                      >System Management</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-10.html"
                      >Planning Symphony Projects</a>
                  </li>
                
                  <li>
                    <a href="/symphony-2/docs/book/chapter-11.html"
                      >Adaptive Techniques</a>
                  </li>
                
              </ul>
            
          </li>
        
      </ul>
    
      <h3>Concepts</h3>
      <ul class="sidebar-links">
        
          <li>
            <a href="/symphony-2/docs/concepts/xslt-transformation.html"
              >XSLT Transformation</a>
            
          </li>
        
      </ul>
    
      <h3>Guides</h3>
      <ul class="sidebar-links">
        
          <li>
            <a href="/symphony-2/docs/guides/javascript-styleguide.html"
              >JavaScript Style Guide</a>
            
          </li>
        
      </ul>
    
      <h3>Tutorials</h3>
      <ul class="sidebar-links">
        
      </ul>
    
      <h3>Working</h3>
      <ul class="sidebar-links">
        
          <li>
            <a href="/symphony-2/docs/working/a-symphony-workflow.html"
              >A Symphony Workflow</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/working/a-symphony-workflow-command-list.html"
              >A Symphony Workflow - Terminal Command List</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/working/installing-on-mac-osx.html"
              >Installing Symphony on your Mac (OS X >= 10.5)</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/working/a-view-on-static-pages.html"
              >A view on static pages</a>
            
          </li>
        
          <li>
            <a href="/symphony-2/docs/working/understanding-xslt.html"
              >Understanding XSLT</a>
            
          </li>
        
      </ul>
    
  </div>
  <div class="column content">
      <h2>META</h2>

<ul>
<li>Doc Version: 102910</li>
<li>Author: Jonas Downey, based heavily on the work of Git wizard Stephen Bau</li>
<li>Applies to: 2.x</li>
<li>Based on: 2.1.2</li>
<li><a href="http://symphonycms.com/learn/articles/view/getting-git-for-symphony-development/">Production URL</a></li>
</ul>

<h1>Getting Git for Symphony Development</h1>

<p>You&#39;re already a Symphony superhero — you&#39;ve downloaded and installed Symphony, and used it to build an amazing website. Now you want the capability to easily update Symphony and its extensions as they are released, and perhaps also version control your own installation to better manage your changes and customizations. But getting Git? Good grief! </p>

<p>Never fear, a guide is here!</p>

<h2>Cloning the core repository</h2>

<p>Most commonly you will begin by cloning the Symphony core, and updating its submodules. This provides a simple way to update Symphony when new versions are released. You should perform these commands wherever your development Symphony installation lives.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git clone git://github.com/symphonycms/symphony-2.git directory
cd directory
git submodule update --init
</code></pre></div>
<p>If you already have an existing (non-git) Symphony installation, you will need to perform these commands in a new location, then move your existing workspace and any other customizations there.</p>

<p>If you don&#39;t need to version control anything else, you can quit while you&#39;re ahead and enjoy the easy updates your cloned repository provides. Just issue the command:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git pull
</code></pre></div>
<p>and your core is up to date.</p>

<h2>Switching to a specific release</h2>

<p>Occasionally Symphony betas or release candidates are available for testing, and you want to try one out. Here&#39;s how. (Note that any required database changes between versions will not be reflected in this process, unless you opt to run <code>update.php</code>. In other words, don&#39;t do this until you know what you&#39;re doing.)</p>

<p>Fetch all tags and view them:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git fetch --tags
git tag
</code></pre></div>
<p>choose the one you want (e.g., 2.1.1) and perform a <code>checkout</code>. Subsequently, name the branch.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout 2.1.1
git checkout -b 211
</code></pre></div>
<p>You can see all of your local branches with:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git branch -v
</code></pre></div>
<p>To switch back to the master (stable) release:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout master
</code></pre></div>
<h2>Switching to the <code>integration</code> branch and using <code>cherry-pick</code></h2>

<p>If you&#39;re living on the bleeding edge, you will most likely need to switch to the <code>integration</code> branch, which is where active development on Symphony happens. This also comes in handy if you need specific bugfixes that haven&#39;t been bundled into an official (tagged) release yet.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout -b integration
git pull origin integration
</code></pre></div>
<p>On the somewhat rare occasion that you want to grab code from a particular <code>commit</code>, you can do so with <code>git cherry-pick</code>. Just switch to the branch with the relevant commit, and specify the commit you want. </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout master
git cherry-pick 3346e9459d1964438934194f6f28b290b8e71bcd
</code></pre></div>
<p>You can also undo this if something blows up:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git revert 3346e9459d1964438934194f6f28b290b8e71bcd
</code></pre></div>
<h2>Adding extensions to your installation</h2>

<p>It&#39;s good practice to add any custom Symphony extensions as git submodules. To add an extension, find its URL on Github, then issue a command like this in your installation root directory:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git submodule add git://github.com/user/extension-name.git extensions/extension-name
</code></pre></div>
<p>After adding an extension as a submodule, you will probably need to update it to a newer version from time to time. Perform these commands in your Symphony root folder:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd extensions/extension-name
git pull origin master
cd ../../
git commit -m &quot;I updated extension-name.&quot;
</code></pre></div>
<h2>Updating Symphony</h2>

<p>You&#39;ve cloned the Symphony repository, set up your workspace, and added some extensions as submodules. Now you want to upgrade to a new Symphony release. <code>git pull</code>, right? Wrong:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Entry &#39;.gitmodules&#39; would be overwritten by merge. Cannot merge.
</code></pre></div>
<p>Doh! We have a conflict: the master Symphony repository and your local version have different sets of submodules. Git needs your help! First, <code>stash</code> your changes. Then do your <code>pull</code> and apply the changes to the updated repository.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git stash
git pull origin master
git stash apply
</code></pre></div>
<p>Be aware that you may need to resolve some conflicts during the <code>stash apply</code> step by using <code>git add</code> or <code>git rm</code>.</p>

<h2>A repository of your own</h2>

<p>Now you&#39;re feeling happy and you want to version control your own site customizations. How you do this depends on your deployment environment — do you have git locally? Do you have staging and production servers? Do you want to post your stuff to Github? We&#39;ll cover the bases — choose your flavor of control and scale up as you need.</p>

<h3>Lightweight: using a local <code>workspace</code> repository only</h3>

<p>If you have a simple site with very few extensions, it&#39;s easy to keep only your workspace under local version control. In this example, git must be available on your system, and you will simply maintain a private, local git repository for the workspace.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd workspace
git init
git add .
git commit -m &quot;initial commit&quot;
</code></pre></div>
<h3>Welterweight: using a complete site repository</h3>

<p>Usually most customizations occur in the workspace area, but in practice, there may be other items you want to track, such as settings in the <code>manifest/config.php</code> file or your entire site installation. In these cases, you can turn your whole site into a git repository. </p>

<p>One great way to do this is to create a new branch for your site. After installing Symphony, create a second branch. We&#39;ll call it &quot;mysite.&quot;</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git branch mysite
git checkout mysite
</code></pre></div>
<p>henceforth you&#39;ll use the &quot;mysite&quot; branch to do all your work. When you need to update Symphony, you&#39;ll switch back to the master branch, update, and merge.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout master
git pull origin master
git checkout mysite
git merge master
</code></pre></div>
<p>Again, you may have to clean up conflicts during the merge step, by using <code>git add</code> or <code>git rm</code>.</p>

<h3>Middleweight: deploying your site to public or private repositories</h3>

<p>Suppose you want to host a copy of your site&#39;s repository on Github, or use a local development repository and occasionally push it to another server. You’ll maintain a link to the official repository for core updates, but change the origin to your own repository.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git remote add symphony git://github.com/symphonycms/symphony-2.git
git remote rm origin
git remote add origin git@github.com:username/site.git
git push origin master
</code></pre></div>
<p>You could also skip Github and do this on your own server. First set up your repository:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">ssh user@host.com
mkdir /path/to/mysite.git
cd /path/to/mysite.git
git --bare init
</code></pre></div>
<p>Then update your local cloned Symphony:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git remote add symphony git://github.com/symphonycms/symphony-2.git
git remote rm origin
git remote add origin ssh://user@host.com:/path/to/mysite.git
git push origin master
</code></pre></div>
<p>When you want to update the core, pull from the Symphony remote:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git pull symphony master
</code></pre></div>
<h3>Heavyweight: the workspace as a submodule</h3>

<p>The benefit of maintaining the workspace as a submodule is the ability to maintain a clean separation between site customizations and the Symphony core. The downside is that you need to maintain two repositories. Let&#39;s say that your core repository is called <code>site</code> and your workspace repository is called <code>site-workspace</code>. Here’s the process of setting up the core repository with the workspace repository as a submodule.</p>

<p>Assuming that you want to start with a clean Symphony installation, you would install Symphony at this point to create and populate the workspace directory. Once that&#39;s done, you can set up the remote repository.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd workspace
git init
git add .
git commit -m &quot;Initialize workspace repository&quot;
git remote add origin git@github.com:username/site-workspace.git
git push origin master
</code></pre></div>
<p>Then, remove the existing workspace and add the workspace as a submodule.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">cd ..
rm -rf workspace
git submodule add git@github.com:username/site-workspace.git workspace
</code></pre></div>
<h3>Heavyweight champion: contributing to Symphony</h3>

<p>Now that you&#39;re a bonafide Git genius, the last step in your path to world domination is to improve Symphony itself. We&#39;ll assume you&#39;ve already forked Symphony on Github, because you&#39;re awesome.</p>

<p>Clone your fork and checkout the integration branch:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git clone git@github.com:username/symphony-2.git 
git checkout -b integration
git pull origin integration
</code></pre></div>
<p>Now make a new branch for your changes:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git checkout -b mybranch
git merge integration
git push origin mybranch
</code></pre></div>
<p>When you&#39;re ready to submit your changes to the Symphony team, issue a pull request on Github. See <a href="http://help.github.com/pull-requests/">Github&#39;s instructions</a> for help.</p>

  </div>
</div>

        </div>

        <footer id="footer">
  <div class="field">

    <!-- Community -->
    <p class="footer-community">
      <strong>&#169; 2010–2012 The Symphony Community</strong>
      <a href="http://getsymphony.com">International Site</a> · <a href="http://twitter.com/symphonycms">Twitter</a>
    </p>

    <!-- Developer links -->
    <p class="footer-links">
      <strong>Plan, Play and Practice</strong>
      <a href="https://github.com/symphonycms/symphony-2/blob/master/README.markdown">Requirements</a> · <a href="https://github.com/symphonycms/symphony-2/blob/master/LICENCE">MIT Licence</a> · <a href="http://github.com/symphonycms">Github</a>
    </p>

    <!-- Factory artwork -->
    <p class="footer-factory">
      <em>Conducting sites since 2004</em>
      <a href="http://getsymphony.com">Symphony Community</a>
    </p>
  </div>
</footer>
    </body>
</html>
